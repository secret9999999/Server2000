From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Doc <nachito94@msn.com>
Date: Sun, 9 Oct 2022 11:58:38 -0300
Subject: [PATCH] Support for results of ItemStacks in CraftItemEvent


diff --git a/src/main/java/org/bukkit/event/inventory/CraftItemEvent.java b/src/main/java/org/bukkit/event/inventory/CraftItemEvent.java
index cab13877fb38c361f18ce9a433e98fea689c9722..87351dd3a122c5af7b85a48497eeadcebf88b8d1 100644
--- a/src/main/java/org/bukkit/event/inventory/CraftItemEvent.java
+++ b/src/main/java/org/bukkit/event/inventory/CraftItemEvent.java
@@ -11,6 +11,7 @@ import org.jetbrains.annotations.NotNull;
  */
 public class CraftItemEvent extends InventoryClickEvent {
     private Recipe recipe;
+    private java.util.Collection<org.bukkit.inventory.ItemStack> itemResults; // Paper
 
     public CraftItemEvent(@NotNull Recipe recipe, @NotNull InventoryView what, @NotNull SlotType type, int slot, @NotNull ClickType click, @NotNull InventoryAction action) {
         super(what, type, slot, click, action);
@@ -22,6 +23,31 @@ public class CraftItemEvent extends InventoryClickEvent {
         this.recipe = recipe;
     }
 
+    // Paper start - add more data in CraftItemEvent
+    public CraftItemEvent(@NotNull Recipe recipe, @NotNull InventoryView what, @NotNull SlotType type, int slot, @NotNull ClickType click, @NotNull InventoryAction action, @NotNull java.util.List<org.bukkit.inventory.ItemStack> itemResults) {
+        super(what, type, slot, click, action);
+        this.recipe = recipe;
+        this.itemResults = java.util.Collections.unmodifiableList(itemResults);
+    }
+
+    public CraftItemEvent(@NotNull Recipe recipe, @NotNull InventoryView what, @NotNull SlotType type, int slot, @NotNull ClickType click, @NotNull InventoryAction action, int key, @NotNull java.util.List<org.bukkit.inventory.ItemStack> itemResults) {
+        super(what, type, slot, click, action, key);
+        this.recipe = recipe;
+        this.itemResults = java.util.Collections.unmodifiableList(itemResults);
+    }
+
+    /**
+     * @return An unmodifiable list of items resulting from the craft.
+     */
+    @NotNull
+    public java.util.@org.jetbrains.annotations.Unmodifiable Collection<org.bukkit.inventory.ItemStack> getItemResults() {
+        if (this.itemResults == null) {
+            return java.util.Collections.singletonList(recipe.getResult());
+        }
+        return this.itemResults;
+    }
+    // Paper end
+
     /**
      * @return A copy of the current recipe on the crafting matrix.
      */
