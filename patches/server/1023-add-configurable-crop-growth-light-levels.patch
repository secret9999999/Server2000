From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: JamieOnSootMC <jamie@sootmc.net>
Date: Wed, 23 Aug 2023 23:00:18 +0100
Subject: [PATCH] add configurable crop growth light levels


diff --git a/src/main/java/io/papermc/paper/configuration/WorldConfiguration.java b/src/main/java/io/papermc/paper/configuration/WorldConfiguration.java
index 4989f99c0d330da52aeaca5df08edfbd47b5bf3c..60b8b8e0ff6a17ec2d86af35d1ad75de6b927f32 100644
--- a/src/main/java/io/papermc/paper/configuration/WorldConfiguration.java
+++ b/src/main/java/io/papermc/paper/configuration/WorldConfiguration.java
@@ -505,6 +505,7 @@ public class WorldConfiguration extends ConfigurationPart {
     public Misc misc;
 
     public class Misc extends ConfigurationPart {
+        public int cropGrowthLightLevel = 9;
         public int lightQueueSize = 20;
         public boolean updatePathfindingOnBlockUpdate = true;
         public boolean showSignClickCommandFailureMsgsToPlayer = false;
diff --git a/src/main/java/net/minecraft/world/level/block/CropBlock.java b/src/main/java/net/minecraft/world/level/block/CropBlock.java
index decb8caa67bc5f4525e4d92fedf465a17171fceb..ac60e008c69f768e8e3ffcaa9b5c606b56f19419 100644
--- a/src/main/java/net/minecraft/world/level/block/CropBlock.java
+++ b/src/main/java/net/minecraft/world/level/block/CropBlock.java
@@ -70,7 +70,8 @@ public class CropBlock extends BushBlock implements BonemealableBlock {
 
     @Override
     public void randomTick(BlockState state, ServerLevel world, BlockPos pos, RandomSource random) {
-        if (world.getRawBrightness(pos, 0) >= 9) {
+        int lightLevel = world.getLevel().paperConfig().misc.cropGrowthLightLevel >= 0 ? world.getLevel().paperConfig().misc.cropGrowthLightLevel : 9; // Paper - configurable light level for crop growth
+        if (world.getRawBrightness(pos, 0) >= lightLevel) {
             int i = this.getAge(state);
 
             if (i < this.getMaxAge()) {
